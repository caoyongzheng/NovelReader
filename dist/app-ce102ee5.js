webpackJsonp([0],{101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n.n(r),a=n(35),i=n.n(a),c=n(99),s=n.n(c),u=n(98),l=document.createElement("div");l.classList.add(s.a.anchor),document.body.appendChild(l),i.a.render(o.a.createElement(u.a,null),l)},102:function(e,t,n){"use strict";function r(e){var t=e.vIf,n=e.push;return t?a.a.createElement("div",{className:u.a.container},a.a.createElement(l.a,{activeClass:u.a.clickActive,onTap:function(){return n("/category")}},a.a.createElement("div",{className:"btn-primary font-big"},"添加小说"))):null}var o=n(3),a=n.n(o),i=n(4),c=n.n(i),s=n(112),u=n.n(s),l=n(62);r.defaultProps={vIf:!0},r.propTypes={vIf:c.a.bool,push:c.a.func.isRequired},t.a=r},103:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(3),c=n.n(i),s=n(4),u=n.n(s),l=n(113),p=n.n(l),f=n(38),h=n(36),d=n(37),m=n(102),v=n(39),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={bookList:[]},i=n,o(a,i)}return a(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.replace,n=e.push,r=this.state.bookList;return c.a.createElement("div",{className:p.a.route},c.a.createElement(f.a,{title:"书架"}),c.a.createElement(h.a,null,c.a.createElement(v.a,null,c.a.createElement(m.a,{vIf:!r.length,push:n}))),c.a.createElement(d.a,{active:"bookshelf",replace:t}))}}]),t}(c.a.PureComponent);b.defaultProps={},b.propTypes={replace:u.a.func.isRequired,push:u.a.func.isRequired},t.a=b},104:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(3),c=n.n(i),s=n(4),u=n.n(s),l=n(114),p=n.n(l),f=n(38),h=n(36),d=n(37),m=n(39),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=[{key:"male",name:"男生"},{key:"female",name:"女生"},{key:"press",name:"出版"}],b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),v(t,[{key:"componentDidMount",value:function(){this.props.getted||this.scroller.begginLoad()}},{key:"render",value:function(){var e=this,t=this.props,n=t.replace,r=t.category,o=t.getData;return c.a.createElement("div",{className:p.a.route},c.a.createElement(f.a,{title:"分类"}),c.a.createElement(h.a,null,c.a.createElement(m.a,{ref:function(t){return e.scroller=t},refreshCallBack:o},y.map(function(e){var t=e.key,n=e.name;return c.a.createElement("div",{key:t,className:p.a.kind},c.a.createElement("div",{className:p.a.name},n),c.a.createElement("div",{className:p.a.items},r[t].map(function(e){var t=e.name,n=e.bookCount;return c.a.createElement("div",{key:t,className:p.a.item},c.a.createElement("div",{className:p.a.center},c.a.createElement("div",{className:p.a.kindName},t),c.a.createElement("div",{className:p.a.bookCount},n)))})))}))),c.a.createElement(d.a,{active:"category",replace:n}))}}]),t}(c.a.PureComponent);b.defaultProps={},b.propTypes={replace:u.a.func.isRequired,getData:u.a.func.isRequired,category:u.a.shape({male:u.a.array.isRequired,female:u.a.array.isRequired,press:u.a.array.isRequired}).isRequired,getted:u.a.bool.isRequired},t.a=b},105:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(3),c=n.n(i),s=n(4),u=n.n(s),l=n(115),p=n.n(l),f=n(38),h=n(36),d=n(37),m=n(39),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={},i=n,o(a,i)}return a(t,e),v(t,[{key:"render",value:function(){var e=this.props.replace;return c.a.createElement("div",{className:p.a.route},c.a.createElement(f.a,{title:"排行榜"}),c.a.createElement(h.a,null,c.a.createElement(m.a,null,"1")),c.a.createElement(d.a,{active:"ranking",replace:e}))}}]),t}(c.a.PureComponent);y.defaultProps={},y.propTypes={replace:u.a.func.isRequired},t.a=y},106:function(e,t,n){"use strict";var r=navigator.userAgent,o=r.indexOf("Windows Phone")>=0,a=r.indexOf("Android")>0&&!o;t.a={isWindowsPhone:o,isAndroid:a}},108:function(e,t){e.exports={container:"Body__container-2yH6F"}},109:function(e,t){e.exports={footer:"Footer__footer-28Wdl",item:"Footer__item-5YXAD",clickActive:"Footer__clickActive-3DxON",active:"Footer__active-3OfnJ"}},110:function(e,t){e.exports={header:"Header__header-6daKC",left:"Header__left-2NGUh",center:"Header__center-2lVJi",right:"Header__right-2ffF1"}},111:function(e,t){e.exports={scrollview:"ScrollView__scrollview-2-TIc",loader:"ScrollView__loader-1Iz1S",spinner:"ScrollView__spinner-3IffW",transition:"ScrollView__transition-2259d",scrollContent:"ScrollView__scrollContent-Ry73c"}},112:function(e,t){e.exports={container:"AddBookBtn__container-3fVB5",clickActive:"AddBookBtn__clickActive-1nU8A"}},113:function(e,t){e.exports={route:"index__route-3SMNR"}},114:function(e,t){e.exports={kind:"index__kind-DUL-P",name:"index__name-IAYmd",items:"index__items-14hh9",item:"index__item-2j-oe",center:"index__center-2q8W3",kindName:"index__kindName-3_iQi",bookCount:"index__bookCount-BMFmO"}},115:function(e,t){e.exports={route:"index__route-2wdHu"}},128:function(e,t,n){e.exports=n.p+"303bb44063ad809b1879754de4b83b5d.png"},36:function(e,t,n){"use strict";function r(e){var t=e.top,n=e.bottom,r=e.children;return a.a.createElement("div",{className:u.a.container,style:{top:t,bottom:n}},r)}var o=n(3),a=n.n(o),i=n(4),c=n.n(i),s=n(108),u=n.n(s);r.defaultProps={top:"45px",bottom:"50px",children:null},r.propTypes={top:c.a.string,bottom:c.a.string,children:c.a.node},t.a=r},37:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.active,n=e.replace;return i.a.createElement("div",{className:f.a.footer},d.map(function(e){return i.a.createElement(h.a,{key:e.key,onTap:t!==e.key?function(){return n("/"+e.key)}:void 0,activeClass:f.a.clickActive},i.a.createElement("div",{className:s()(f.a.item,r({},f.a.active,t===e.key))},e.name))}))}var a=n(3),i=n.n(a),c=n(34),s=n.n(c),u=n(4),l=n.n(u),p=n(109),f=n.n(p),h=n(62),d=[{key:"bookshelf",name:"书架"},{key:"category",name:"分类"},{key:"ranking",name:"排行榜"}];o.defaultProps={},o.propTypes={active:l.a.string.isRequired,replace:l.a.func.isRequired},t.a=o},38:function(e,t,n){"use strict";function r(e){var t=e.left,n=e.title,r=e.right;return a.a.createElement("div",{className:u.a.header},a.a.createElement("div",{className:u.a.left},t),a.a.createElement("div",{className:u.a.center},n),a.a.createElement("div",{className:u.a.right},r))}var o=n(3),a=n.n(o),i=n(4),c=n.n(i),s=n(110),u=n.n(s);r.defaultProps={left:"",title:"",right:""},r.propTypes={left:c.a.node,title:c.a.string,right:c.a.node},t.a=r},39:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(3),s=n.n(c),u=n(4),l=n.n(u),p=n(34),f=n.n(p),h=n(111),d=n.n(h),m=n(128),v=n.n(m),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){var e,n,r,i;o(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={ly:0,sy:0,transition:!1},r.onTouchStart=function(e){r.startY=e.touches?e.touches[0].pageY:e.pageY,r.setState({transition:!1})},r.onTouchMove=function(e){var t=r.startY,n=r.wrap,o=e.touches?e.touches[0].pageY:e.pageY,a=t<o&&0===n.scrollTop,i=t>o&&n.scrollHeight-n.scrollTop===n.offsetHeight;if(a||i){if(e.preventDefault(),a){var c=o-t,s=r.props.maxMove,u=s*(c/(c+1.5*s));r.setState({ly:u,sy:u})}}else n.scrollTop<0&&r.setState({ly:-n.scrollTop,sy:0})},r.onTouchEnd=function(){var e=r.state.ly;if(0!==e){r.setState({ly:e,sy:e});var t=r.props.refreshCallBack;e>=50&&t?r.begginLoad():setTimeout(function(){r.setState({ly:0,sy:0,transition:!0})},0)}},r.begginLoad=function(){var e=r.props.refreshCallBack;e&&setTimeout(function(){r.setState({ly:50,sy:50,transition:!0}),e(function(){return r.setState({ly:0,sy:0})})},0)},i=n,a(r,i)}return i(t,e),y(t,[{key:"render",value:function(){var e=this,t=this.props.children,n=this.state,o=n.ly,a=n.sy,i=n.transition;return s.a.createElement("div",{className:d.a.scrollview},s.a.createElement("div",{className:f()(d.a.loader,r({},d.a.transition,i)),style:{transform:"translateY("+o+"px)"}},s.a.createElement("img",{src:v.a,alt:"loading",className:f()(r({},d.a.spinner,o>=50))})),s.a.createElement("div",{className:f()(d.a.scrollContent,r({},d.a.transition,i)),ref:function(t){return e.wrap=t},style:{transform:"translateY("+a+"px)"},onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},t))}}]),t}(s.a.PureComponent);b.defaultProps={maxMove:300,refreshCallBack:null},b.propTypes={children:l.a.node.isRequired,maxMove:l.a.number,refreshCallBack:l.a.func},t.a=b},62:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return f.a.sAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"}function c(e,t){document.activeElement&&document.activeElement!==e&&document.activeElement.blur();var n=t.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(i(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,e.dispatchEvent(r)}var s=n(3),u=n.n(s),l=n(4),p=n.n(l),f=n(106),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={active:!1},a.onTocuhStart=function(e){a.startX=e.touches[0].pageX,a.startY=e.touches[0].pageY,a.moved=!1,a.activePromise=new Promise(function(e){a.timeout=setTimeout(function(){a.moved||a.setState({active:!0}),e({active:!a.moved,clearTime:!1})},a.props.tapDelay)})},a.onTocuhMove=function(e){a.isMoved(e)&&!a.moved&&(a.moved=!0,a.setState({active:!1}))},a.onTocuhEnd=function(e){e.preventDefault(),Promise.race([a.activePromise,Promise.resolve({active:!a.moved,clearTime:!0})]).then(function(t){var n=t.active;t.clearTime&&window.clearTimeout(a.timeout),a.state.active&&a.setState({active:!1}),n&&c(e.target,e)})},a.onTouchCancel=function(){a.setState({active:!1})},a.onMouseDown=function(){a.setState({active:!0})},a.onMouseUp=function(){a.setState({active:!1})},a.triggerTap=function(e){a.props.onTap(e)},a.isMoved=function(e){var t=a.props.touchBoundary,n=e.changedTouches[0];return Math.abs(n.pageX-a.startX)>t||Math.abs(n.pageY-a.startY)>t},i=n,o(a,i)}return a(t,e),h(t,[{key:"componentDidMount",value:function(){this.el.addEventListener("touchstart",this.onTocuhStart),this.el.addEventListener("touchmove",this.onTocuhMove),this.el.addEventListener("touchend",this.onTocuhEnd),this.el.addEventListener("touchcancel",this.onTouchCancel),this.el.addEventListener("click",this.triggerTap),this.el.addEventListener("mousedown",this.onMouseDown),this.el.addEventListener("mouseup",this.onMouseUp)}},{key:"componentDidUpdate",value:function(){this.el&&this.props.activeClass&&(this.state.active?this.el.classList.add(this.props.activeClass):this.el.classList.remove(this.props.activeClass))}},{key:"componentWillUnmount",value:function(){this.el.removeEventListener("touchstart",this.onTocuhStart),this.el.removeEventListener("touchmove",this.onTocuhMove),this.el.removeEventListener("touchend",this.onTocuhEnd),this.el.removeEventListener("touchcancel",this.onTouchCancel),this.el.removeEventListener("click",this.triggerTap),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=this;return u.a.cloneElement(this.props.children,{ref:function(t){return e.el=t}})}}]),t}(u.a.PureComponent);d.defaultProps={onTap:function(){},touchBoundary:5,tapDelay:50,activeClass:""},d.propTypes={children:p.a.node.isRequired,onTap:p.a.func,activeClass:p.a.string,touchBoundary:p.a.number,tapDelay:p.a.number},t.a=d},98:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(3),c=n.n(i),s=n(61),u=n(103),l=n(104),p=n(105),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={category:{getted:!1,category:{male:[],female:[],press:[]}}},a.getCategoryData=function(e){fetch("https://api.caoyongzheng.com/proxy?url=http://api.zhuishushenqi.com/cats/lv2/statistics",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){var n=t.male,r=t.female,o=t.press;a.setState({category:{category:{male:n,female:r,press:o},getted:!0}}),e&&e()})},i=n,o(a,i)}return a(t,e),h(t,[{key:"render",value:function(){var e=this,t=this.state.category;return console.log(t),c.a.createElement(s.HashRouter,null,c.a.createElement("div",{style:{width:"100%",height:"100%"}},c.a.createElement(s.Route,{exact:!0,path:"/",render:function(){return c.a.createElement(s.Redirect,{to:"/bookshelf"})}}),c.a.createElement(s.Route,{path:"/bookshelf",render:function(e){var t=e.history,n=t.push,r=t.replace;return c.a.createElement(u.a,{push:n,replace:r})}}),c.a.createElement(s.Route,{path:"/category",render:function(n){var r=n.history,o=r.push,a=r.replace;return c.a.createElement(l.a,f({push:o,replace:a},t,{getData:e.getCategoryData}))}}),c.a.createElement(s.Route,{path:"/ranking",render:function(e){var t=e.history,n=t.push,r=t.replace;return c.a.createElement(p.a,{push:n,replace:r})}})))}}]),t}(c.a.PureComponent);d.defaultProps={},d.propTypes={},t.a=d},99:function(e,t){e.exports={anchor:"index__anchor-1gmbr"}}},[101]);