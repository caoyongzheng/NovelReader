webpackJsonp([0],[,,,,,,,,,,,,,,function(e,t,n){var r=n(122),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t){var n=Array.isArray;e.exports=n},,,,,,,,function(e,t,n){function r(e,t){var n=a(e,t);return o(n)?n:void 0}var o=n(270),a=n(273);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return p.a.sAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"}function c(e,t){document.activeElement&&document.activeElement!==e&&document.activeElement.blur();var n=t.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(i(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,e.dispatchEvent(r)}var s=n(1),u=n.n(s),l=n(2),f=n.n(l),p=n(296),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(e){function t(){var e,n,a,i;r(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={active:!1},a.onTocuhStart=function(e){a.startX=e.touches[0].pageX,a.startY=e.touches[0].pageY,a.moved=!1,a.activePromise=new Promise(function(e){a.timeout=setTimeout(function(){a.moved||a.setState({active:!0}),e({active:!a.moved,clearTime:!1})},a.props.tapDelay)})},a.onTocuhMove=function(e){a.isMoved(e)&&!a.moved&&(a.moved=!0,a.setState({active:!1}))},a.onTocuhEnd=function(e){e.preventDefault(),Promise.race([a.activePromise,Promise.resolve({active:!a.moved,clearTime:!0})]).then(function(t){var n=t.active;t.clearTime&&window.clearTimeout(a.timeout),a.state.active&&a.setState({active:!1}),!a.moved&&n&&c(e.target,e)})},a.onTouchCancel=function(){a.setState({active:!1})},a.onMouseDown=function(){a.setState({active:!0})},a.onMouseUp=function(){a.setState({active:!1})},a.triggerTap=function(e){a.props.onTap(e)},a.isMoved=function(e){var t=a.props.touchBoundary,n=e.changedTouches[0];return Math.abs(n.pageX-a.startX)>t||Math.abs(n.pageY-a.startY)>t},i=n,o(a,i)}return a(t,e),h(t,[{key:"componentDidMount",value:function(){this.el.addEventListener("touchstart",this.onTocuhStart),this.el.addEventListener("touchmove",this.onTocuhMove),this.el.addEventListener("touchend",this.onTocuhEnd),this.el.addEventListener("touchcancel",this.onTouchCancel),this.el.addEventListener("click",this.triggerTap),this.el.addEventListener("mousedown",this.onMouseDown),this.el.addEventListener("mouseup",this.onMouseUp)}},{key:"componentDidUpdate",value:function(){this.el&&this.props.activeClass&&(this.state.active?this.el.classList.add(this.props.activeClass):this.el.classList.remove(this.props.activeClass))}},{key:"componentWillUnmount",value:function(){this.el.removeEventListener("touchstart",this.onTocuhStart),this.el.removeEventListener("touchmove",this.onTocuhMove),this.el.removeEventListener("touchend",this.onTocuhEnd),this.el.removeEventListener("touchcancel",this.onTouchCancel),this.el.removeEventListener("click",this.triggerTap),this.el.removeEventListener("mousedown",this.onMouseDown),this.el.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=this;return u.a.cloneElement(this.props.children,{ref:function(t){return e.el=t}})}}]),t}(u.a.PureComponent);v.defaultProps={onTap:function(){},touchBoundary:5,tapDelay:50,activeClass:""},v.propTypes={children:f.a.node.isRequired,onTap:f.a.func,activeClass:f.a.string,touchBoundary:f.a.number,tapDelay:f.a.number},t.a=v},,,,,,,,function(e,t,n){function r(e,t,n){var r=null==e?void 0:o(e,t);return void 0===r?n:r}var o=n(120);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?s:c:u&&u in Object(e)?a(e):i(e)}var o=n(44),a=n(262),i=n(263),c="[object Null]",s="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(1),s=n.n(c),u=n(2),l=n.n(u),f=n(31),p=n.n(f),h=n(299),v=n.n(h),y=n(300),d=n.n(y),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=50,g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onTouchStart=function(e){n.startY=e.touches?e.touches[0].pageY:e.pageY,n.props.requestLoading&&n.setState({transition:!1})},n.onTouchMove=function(e){var t=n.startY,r=n.wrap,o=e.touches?e.touches[0].pageY:e.pageY,a=t<o&&0===r.scrollTop,i=t>o&&r.scrollHeight-r.scrollTop===r.offsetHeight;if(a||i){if(e.preventDefault(),a&&n.props.requestLoading){var c=o-t,s=n.props.maxMove,u=s*(c/(c+1.5*s));n.setState({ly:u,sy:u,transition:!1})}}else r.scrollTop<0&&n.props.requestLoading&&n.setState({ly:-r.scrollTop,sy:0})},n.onTouchEnd=function(){var e=n.state.ly;if(0!==e){n.setState({ly:e,sy:e,transition:!0});var t=n.props.requestLoading;e>=50&&t?t():setTimeout(function(){n.unmounted||n.setState({ly:0,sy:0,transition:!0})},0)}},n.onScroll=function(){if(n.props.onScrollBottom){var e=n.wrap,t=e.scrollHeight,r=e.scrollTop,o=e.offsetHeight,a=t-o,i=a-r;i<=n.props.bottomOffset&&n.props.onScrollBottom(i)}},n.scrollTo=function(e){n.wrap&&(n.wrap.scrollTop=e)},n.state={ly:e.loading?b:0,sy:e.loading?b:0,transition:!0},n}return i(t,e),m(t,[{key:"componentWillReceiveProps",value:function(e){e.loading!==this.props.loading&&(e.loading?(this.scrollTo(0),this.setState({ly:b,sy:b})):this.setState({ly:0,sy:0}))}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.hide,a=this.state,i=a.ly,c=a.sy,u=a.transition;return s.a.createElement("div",{className:p.a(v.a.scrollview,r({},v.a.hide,o))},s.a.createElement("div",{className:p.a(v.a.loader,r({},v.a.transition,u)),style:{transform:"translateY("+i+"px)",WebkitTransform:"translateY("+i+"px)"}},s.a.createElement("img",{src:d.a,alt:"loading",className:p.a(r({},v.a.spinner,i>=b))})),s.a.createElement("div",{className:p.a(v.a.scrollContent,r({},v.a.transition,u)),ref:function(t){return e.wrap=t},style:{transform:"translateY("+c+"px)",WebkitTransform:"translateY("+c+"px)"},onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onScroll:this.onScroll},n))}}]),t}(s.a.PureComponent);g.defaultProps={maxMove:300,loading:!1,hide:!1,requestLoading:null,bottomOffset:100,onScrollBottom:null},g.propTypes={children:l.a.node.isRequired,maxMove:l.a.number,requestLoading:l.a.func,loading:l.a.bool,hide:l.a.bool,onScrollBottom:l.a.func,bottomOffset:l.a.number},t.a=g},,,,,,,,function(e,t,n){function r(e){return"symbol"==typeof e||a(e)&&o(e)==i}var o=n(33),a=n(34),i="[object Symbol]";e.exports=r},function(e,t,n){var r=n(14),o=r.Symbol;e.exports=o},function(e,t,n){var r=n(23),o=r(Object,"create");e.exports=o},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(278),a=n(279),i=n(280),c=n(281),s=n(282);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}var o=n(125);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}var o=n(284);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}var o=n(43),a=1/0;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.left,n=e.title,r=e.right;return a.a.createElement("div",{className:u.a.header},a.a.createElement("div",{className:u.a.left},t),a.a.createElement("div",{className:u.a.center},n),a.a.createElement("div",{className:u.a.right},r))}var o=n(1),a=n.n(o),i=n(2),c=n.n(i),s=n(293),u=n.n(s);r.defaultProps={left:"",title:"",right:""},r.propTypes={left:c.a.node,title:c.a.string,right:c.a.node},t.a=r},function(e,t,n){"use strict";function r(e){var t=e.top,n=e.bottom,r=e.children,o=e.className;return a.a.createElement("div",{className:c.a(f.a.container,o),style:{top:t,bottom:n}},r)}var o=n(1),a=n.n(o),i=n(31),c=n.n(i),s=n(2),u=n.n(s),l=n(294),f=n.n(l);r.defaultProps={top:"45px",bottom:"50px",children:null,className:""},r.propTypes={top:u.a.string,bottom:u.a.string,children:u.a.node,className:u.a.string},t.a=r},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(c.test(e)||!i.test(e)||null!=t&&e in Object(t))}var o=n(15),a=n(43),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(267),a=n(283),i=n(285),c=n(286),s=n(287);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t,n){var r=n(23),o=n(14),a=r(o,"Map");e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.active,n=e.replace;return i.a.createElement("div",{className:p.a.footer},v.map(function(e){return i.a.createElement(h.a,{key:e.key,onTap:t!==e.key?function(){return n("/"+e.key)}:void 0,activeClass:p.a.clickActive},i.a.createElement("div",{className:s.a(p.a.item,r({},p.a.active,t===e.key))},e.name))}))}var a=n(1),i=n.n(a),c=n(31),s=n.n(c),u=n(2),l=n.n(u),f=n(295),p=n.n(f),h=n(24),v=[{key:"bookshelf",name:"书架"},{key:"category",name:"分类"},{key:"ranking",name:"排行榜"}];o.defaultProps={},o.propTypes={active:l.a.string.isRequired,replace:l.a.func.isRequired},t.a=o},function(e,t,n){function r(e,t,n,i,c){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!==e&&t!==t:o(e,t,n,i,r,c))}var o=n(313),a=n(34);e.exports=r},function(e,t,n){function r(e){return i(e)?o(e):a(e)}var o=n(330),a=n(337),i=n(135);e.exports=r},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){"use strict";var r=n(2),o=n.n(r),a=o.a.shape({_id:o.a.string,author:o.a.string,shortIntro:o.a.string,title:o.a.string,site:o.a.string,majorCate:o.a.string,latelyFollower:o.a.number,retentionRatio:o.a.number,lastChapter:o.a.string,tags:o.a.arrayOf(o.a.string)}),i=o.a.shape({goBack:o.a.func,push:o.a.func,replace:o.a.func,action:o.a.string,location:o.a.object});t.a={Book:a,History:i}},function(e,t,n){"use strict";t.a=function(e){console.log(e)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e,t){t=o(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}var o=n(121),a=n(50);e.exports=r},function(e,t,n){function r(e,t){return o(e)?e:a(e,t)?[e]:i(c(e))}var o=n(15),a=n(74),i=n(264),c=n(288);e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(261))},function(e,t,n){function r(e){if(!a(e))return!1;var t=o(e);return t==c||t==s||t==i||t==u}var o=n(33),a=n(46),i="[object AsyncFunction]",c="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=r},function(e,t){function n(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,o=r.toString;e.exports=n},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){"use strict";function r(e){return decodeURIComponent(e.replace(/\+/g," "))}function o(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,o={};t=n.exec(e);o[r(t[1])]=r(t[2]));return o}function a(e,t){t=t||"";var n=[];"string"!=typeof t&&(t="?");for(var r in e)i.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}var i=Object.prototype.hasOwnProperty;t.stringify=a,t.parse=o},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?c(e)?a(e[0],e[1]):o(e):s(e)}var o=n(306),a=n(347),i=n(351),c=n(15),s=n(352);e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new o(e);this.size=t.size}var o=n(47),a=n(308),i=n(309),c=n(310),s=n(311),u=n(312);r.prototype.clear=a,r.prototype.delete=i,r.prototype.get=c,r.prototype.has=s,r.prototype.set=u,e.exports=r},function(e,t,n){function r(e,t,n,r,u,l){var f=n&c,p=e.length,h=t.length;if(p!=h&&!(f&&h>p))return!1;var v=l.get(e);if(v&&l.get(t))return v==t;var y=-1,d=!0,m=n&s?new o:void 0;for(l.set(e,t),l.set(t,e);++y<p;){var b=e[y],g=t[y];if(r)var _=f?r(g,b,y,t,e,l):r(b,g,y,e,t,l);if(void 0!==_){if(_)continue;d=!1;break}if(m){if(!a(t,function(e,t){if(!i(m,t)&&(b===e||u(b,e,n,r,l)))return m.push(t)})){d=!1;break}}else if(b!==g&&!u(b,g,n,r,l)){d=!1;break}}return l.delete(e),l.delete(t),d}var o=n(314),a=n(317),i=n(318),c=1,s=2;e.exports=r},function(e,t,n){var r=n(332),o=n(34),a=Object.prototype,i=a.hasOwnProperty,c=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!c.call(e,"callee")};e.exports=s},function(e,t,n){(function(e){var r=n(14),o=n(333),a="object"==typeof t&&t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===a,s=c?r.Buffer:void 0,u=s?s.isBuffer:void 0,l=u||o;e.exports=l}).call(t,n(132)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){function n(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var r=n(334),o=n(335),a=n(336),i=a&&a.isTypedArray,c=i?o(i):r;e.exports=c},function(e,t,n){function r(e){return null!=e&&a(e.length)&&!o(e)}var o=n(123),a=n(80);e.exports=r},function(e,t,n){function r(e){return e===e&&!o(e)}var o=n(46);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){"use strict";function r(e){return"http://statics.zhuishushenqi.com"+e}t.a=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r),a=n(89),i=n.n(a),c=n(259),s=n.n(c),u=n(260),l=document.createElement("div");l.classList.add(s.a.anchor),document.body.appendChild(l),i.a.render(o.a.createElement(u.a,null),l)},function(e,t){e.exports={anchor:"index__anchor-1gmbr"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(116),u=n(32),l=n.n(u),f=n(291),p=n(301),h=n(303),v=n(369),y=n(371),d=n(375),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={category:{getted:!1,male:[],female:[],press:[]},categoryL2:{getted:!1,male:[],female:[],press:[]}},a.getCategory=function(e){return fetch("https://api.caoyongzheng.com/proxy?url=http://api.zhuishushenqi.com/cats/lv2/statistics",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){var n=t.male,r=t.female,o=t.press;a.setState({category:{male:n,female:r,press:o,getted:!0}}),e&&e()})},a.getCategoryL2=function(e){return fetch("https://api.caoyongzheng.com/proxy?url=http://api.zhuishushenqi.com/cats/lv2",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){var n=t.male,r=t.female,o=t.press;a.setState({categoryL2:{male:n,female:r,press:o,getted:!0}}),e&&e()})},i=n,o(a,i)}return a(t,e),m(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.category,r=t.categoryL2;return c.a.createElement(s.HashRouter,null,c.a.createElement("div",{style:{width:"100%",height:"100%"}},c.a.createElement(s.Route,{exact:!0,path:"/",render:function(){return c.a.createElement(s.Redirect,{to:"/bookshelf"})}}),c.a.createElement(s.Route,{path:"/bookshelf",render:function(e){var t=e.history,n=t.push,r=t.replace;return c.a.createElement(f.a,{push:n,replace:r})}}),c.a.createElement(s.Route,{exact:!0,path:"/category",render:function(t){var r=t.history,o=r.push,a=r.replace,i=r.location;return c.a.createElement(p.a,{search:i.search,replace:a,push:o,category:n,getCategory:e.getCategory})}}),c.a.createElement(s.Route,{path:"/category/detail",render:function(t){var n=t.history;return c.a.createElement(h.a,{history:n,search:n.location.search,categoryL2:r,getCategoryBookList:e.getCategoryBookList,getCategoryL2:e.getCategoryL2})}}),c.a.createElement(s.Route,{path:"/ranking",render:function(e){var t=e.history,n=t.push,r=t.replace;return c.a.createElement(v.a,{push:n,replace:r})}}),c.a.createElement(s.Route,{path:"/book/:id",render:function(e){var t=e.history,n=e.match;return c.a.createElement(y.a,{id:l.a(n,["params","id"],""),history:t})}}),c.a.createElement(s.Route,{path:"/reader/:id",render:function(e){var t=e.history,n=e.match;return c.a.createElement(d.a,{id:l.a(n,["params","id"],""),history:t})}})))}}]),t}(c.a.PureComponent);b.defaultProps={},b.propTypes={},t.a=b},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function r(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[s]=n:delete e[s]),o}var o=n(44),a=Object.prototype,i=a.hasOwnProperty,c=a.toString,s=o?o.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return o.call(e)}var r=Object.prototype,o=r.toString;e.exports=n},function(e,t,n){var r=n(265),o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,c=r(function(e){var t=[];return o.test(e)&&t.push(""),e.replace(a,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=c},function(e,t,n){function r(e){var t=o(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}var o=n(266),a=500;e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(r.Cache||o),n}var o=n(75),a="Expected a function";r.Cache=o,e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new o,map:new(i||a),string:new o}}var o=n(268),a=n(47),i=n(76);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var o=n(269),a=n(274),i=n(275),c=n(276),s=n(277);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=i,r.prototype.has=c,r.prototype.set=s,e.exports=r},function(e,t,n){function r(){this.__data__=o?o(null):{},this.size=0}var o=n(45);e.exports=r},function(e,t,n){function r(e){return!(!i(e)||a(e))&&(o(e)?v:u).test(c(e))}var o=n(123),a=n(271),i=n(46),c=n(124),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,p=l.toString,h=f.hasOwnProperty,v=RegExp("^"+p.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return!!a&&a in e}var o=n(272),a=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(14),o=r["__core-js_shared__"];e.exports=o},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(o){var n=t[e];return n===a?void 0:n}return c.call(t,e)?t[e]:void 0}var o=n(45),a="__lodash_hash_undefined__",i=Object.prototype,c=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}var o=n(45),a=Object.prototype,i=a.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?a:t,this}var o=n(45),a="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}var o=n(48),a=Array.prototype,i=a.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}var o=n(48);e.exports=r},function(e,t,n){function r(e){return o(this.__data__,e)>-1}var o=n(48);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var o=n(48);e.exports=r},function(e,t,n){function r(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}var o=n(49);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return o(this,e).get(e)}var o=n(49);e.exports=r},function(e,t,n){function r(e){return o(this,e).has(e)}var o=n(49);e.exports=r},function(e,t,n){function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var o=n(49);e.exports=r},function(e,t,n){function r(e){return null==e?"":o(e)}var o=n(289);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(i(e))return a(e,r)+"";if(c(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var o=n(44),a=n(290),i=n(15),c=n(43),s=1/0,u=o?o.prototype:void 0,l=u?u.toString:void 0;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(2),u=n.n(s),l=n(292),f=n.n(l),p=n(51),h=n(52),v=n(77),y=n(297),d=n(35),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={bookList:[]},i=n,o(a,i)}return a(t,e),m(t,[{key:"render",value:function(){var e=this.props,t=e.replace,n=e.push,r=this.state.bookList;return c.a.createElement("div",{className:f.a.route},c.a.createElement(p.a,{title:"书架"}),c.a.createElement(h.a,null,c.a.createElement(d.a,null,c.a.createElement(y.a,{vIf:!r.length,push:n}))),c.a.createElement(v.a,{active:"bookshelf",replace:t}))}}]),t}(c.a.PureComponent);b.defaultProps={},b.propTypes={replace:u.a.func.isRequired,push:u.a.func.isRequired},t.a=b},function(e,t){e.exports={route:"index__route-3SMNR"}},function(e,t){e.exports={header:"Header__header-6daKC",left:"Header__left-2NGUh",center:"Header__center-2lVJi",right:"Header__right-2ffF1"}},function(e,t){e.exports={container:"Body__container-2yH6F"}},function(e,t){e.exports={footer:"Footer__footer-28Wdl",item:"Footer__item-5YXAD",clickActive:"Footer__clickActive-3DxON",active:"Footer__active-3OfnJ"}},function(e,t,n){"use strict";var r=navigator.userAgent,o=r.indexOf("Windows Phone")>=0,a=r.indexOf("Android")>0&&!o;t.a={isWindowsPhone:o,isAndroid:a}},function(e,t,n){"use strict";function r(e){var t=e.vIf,n=e.push;return t?a.a.createElement("div",{className:u.a.container},a.a.createElement(l.a,{activeClass:u.a.clickActive,onTap:function(){return n("/category")}},a.a.createElement("div",{className:"btn-primary font-big"},"添加小说"))):null}var o=n(1),a=n.n(o),i=n(2),c=n.n(i),s=n(298),u=n.n(s),l=n(24);r.defaultProps={vIf:!0},r.propTypes={vIf:c.a.bool,push:c.a.func.isRequired},t.a=r},function(e,t){e.exports={container:"AddBookBtn__container-3fVB5",clickActive:"AddBookBtn__clickActive-1nU8A"}},function(e,t){e.exports={scrollview:"ScrollView__scrollview-2-TIc",loader:"ScrollView__loader-1Iz1S",spinner:"ScrollView__spinner-3IffW",transition:"ScrollView__transition-2259d",scrollContent:"ScrollView__scrollContent-Ry73c",hide:"ScrollView__hide-2I5xs"}},function(e,t,n){e.exports=n.p+"303bb44063ad809b1879754de4b83b5d.png"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(2),u=n.n(s),l=n(126),f=n.n(l),p=n(302),h=n.n(p),v=n(51),y=n(52),d=n(77),m=n(35),b=n(24),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=[{key:"male",name:"男生"},{key:"female",name:"女生"},{key:"press",name:"出版"}],x=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.requestLoading=function(){n.setState({loading:!0}),n.props.getCategory().then(function(){return n.setState({loading:!1})})},n.handleTap=function(e,t){var r=n.props,o=r.search,a=r.push,i=f.a.parse(o);i.gender=e,i.major=t,a("/category/detail?"+f.a.stringify(i))},n.state={loading:!e.category.getted},n.state.loading&&n.props.getCategory().then(function(){return n.setState({loading:!1})}),n}return a(t,e),g(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.replace,r=t.category,o=this.state.loading;return c.a.createElement("div",{className:h.a.route},c.a.createElement(v.a,{title:"分类"}),c.a.createElement(y.a,null,c.a.createElement(m.a,{requestLoading:this.requestLoading,loading:o},_.map(function(t){var n=t.key,o=t.name;return c.a.createElement("div",{key:n,className:h.a.kind},c.a.createElement("div",{className:h.a.name},o),c.a.createElement("div",{className:h.a.items},r[n].map(function(t){var r=t.name,o=t.bookCount;return c.a.createElement(b.a,{key:r,onTap:function(){return e.handleTap(n,r)},activeClass:h.a.clickActive},c.a.createElement("div",{className:h.a.item},c.a.createElement("div",{className:h.a.center},c.a.createElement("div",{className:h.a.kindName},r),c.a.createElement("div",{className:h.a.bookCount},o))))})))}))),c.a.createElement(d.a,{active:"category",replace:n}))}}]),t}(c.a.PureComponent);x.defaultProps={},x.propTypes={push:u.a.func.isRequired,replace:u.a.func.isRequired,search:u.a.string.isRequired,getCategory:u.a.func.isRequired,category:u.a.shape({male:u.a.array.isRequired,female:u.a.array.isRequired,press:u.a.array.isRequired,getted:u.a.bool.isRequired}).isRequired},t.a=x},function(e,t){e.exports={kind:"index__kind-DUL-P",name:"index__name-IAYmd",items:"index__items-14hh9",item:"index__item-2j-oe",clickActive:"index__clickActive-WAkoU",center:"index__center-2q8W3",kindName:"index__kindName-3_iQi",bookCount:"index__bookCount-BMFmO"}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),u=n.n(s),l=n(2),f=n.n(l),p=n(126),h=n.n(p),v=n(304),y=n.n(v),d=n(32),m=n.n(d),b=n(360),g=n.n(b),_=n(361),x=n.n(_),j=n(51),w=n(52),E=n(362),O=n(364),k=n(82),P=n(81),T=n(368),C=n.n(T),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),N=[{key:"hot",name:"热门"},{key:"new",name:"新书"},{key:"reputation",name:"好评"},{key:"over",name:"完结"},{key:"monthly",name:"包月"}],q=function(e){function t(){var e,n,c,s;a(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return n=c=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),c.state={categoryBooks:{}},c.onScrollBottom=function(e){if(!c.state["isGetting_"+e]){c.setState(o({},"isGetting_"+e,!0));var t=m.a(c.state.categoryBooks,[e],{list:[]});c.getCategoryBookList(S({},h.a.parse(e),{limit:15,start:t.list.length})).then(function(){c.setState(o({},"isGetting_"+e,!1))})}},c.onFilter1Select=function(e){var t=c.props,n=t.search,r=t.history,o=h.a.parse(n);o.type=e,r.replace("/category/detail?"+h.a.stringify(o))},c.onFilter2Select=function(e){var t=c.props,n=t.search,r=t.history,o=h.a.parse(n);o.minor="all"===e?"":e,r.replace("/category/detail?"+h.a.stringify(o))},c.getCategoryBookList=function(e,t){var n=h.a.stringify(e),r=encodeURIComponent("https://api.zhuishushenqi.com/book/by-categories?"+n);return fetch("https://api.caoyongzheng.com/proxy?url="+r,{mode:"cors"}).then(function(e){return e.json()}).then(function(n){var r=n.books,o=n.total,a=S({},c.state.categoryBooks),i=c.getCategoryKey(h.a.stringify(e)),s=a[i]||{};s.list=(s.list||[]).slice(0,e.start).concat(r),s.end=o<=s.list.length,a[i]=s,c.setState({categoryBooks:a}),t&&t()}).catch(k.a)},c.getCategoryKey=function(e){var t=h.a.parse(e),n=t.type,r=void 0===n?"":n,o=t.gender,a=void 0===o?"":o,i=t.major,s=void 0===i?"":i,u=t.minor,l=void 0===u?"":u;return h.a.stringify({type:c.getActiveType(r),gender:a,major:s,minor:l})},c.getActiveType=function(e){return m.a(y.a(N,{key:e}),["key"],N[0].key)},c.getActiveMinor=function(e){var t=c.props.search,n=h.a.parse(t),r=c.computeMins(m.a(e,["mins"],[]));return 0===r.length?"":m.a(y.a(r,{key:n.minor}),["key"],r[0].key)},c.getFilter2=function(e,t){return y.a(t,{major:e})},c.requestLoading=function(e){var t,n=h.a.parse(e),r=c.state.categoryBooks;r[e]=r[e]||{list:[],end:!1},c.setState((t={},o(t,e+"_loading",!0),o(t,"categoryBooks",S({},r)),t)),c.getCategoryBookList({gender:n.gender||"",type:n.type,major:n.major||"",minor:n.minor||"",start:0,limit:15}).then(function(){return c.setState(o({},e+"_loading",!1))})},c.computeMins=function(e){return[{key:"all",name:"全部"}].concat(r(e.map(function(e){return{key:e,name:e}})))},c.handleGoBack=function(){"POP"===c.props.history.action?c.props.history.push("/category"):c.props.history.goBack()},s=n,i(c,s)}return c(t,e),R(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getCategoryL2;e.categoryL2.getted||t();var n=this.props.search;this.requestLoading(this.getCategoryKey(n))}},{key:"componentDidUpdate",value:function(e){var t=this.props.search,n=this.getCategoryKey(t);t===e.search||this.state.categoryBooks[n]||this.requestLoading(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,o=t.search,a=t.categoryL2,i=a.male,c=a.female,s=a.press,l=this.state.categoryBooks,f=h.a.parse(o),p=f.type,v=void 0===p?"":p,y=f.major,d=void 0===y?"":y,m=this.getFilter2(d,[].concat(r(i),r(c),r(s))),b=h.a.parse(this.getCategoryKey(o));return u.a.createElement("div",{className:x.a.route},u.a.createElement(j.a,{left:u.a.createElement("svg",{className:x.a.goBackIcon,onClick:this.handleGoBack},u.a.createElement("use",{xlinkHref:C.a+"#goBack"})),title:d}),u.a.createElement(w.a,{bottom:"0px",className:x.a.body},u.a.createElement(E.a,{key:"filter1",filters:N,active:this.getActiveType(v),onSelect:this.onFilter1Select}),m&&m.mins.length>0?u.a.createElement(E.a,{key:"filter2",filters:this.computeMins(m.mins),active:this.getActiveMinor(m),onSelect:this.onFilter2Select}):null,u.a.createElement("div",{className:x.a.booklist},Object.keys(l).map(function(t){return u.a.createElement(O.a,{key:t,id:t,push:n.push,hide:!g.a(h.a.parse(t),b),loading:e.state[t+"_loading"],list:l[t].list,requestLoading:e.requestLoading,onScrollBottom:e.onScrollBottom,getting:!!e.state["isGetting_"+t]})}))))}}]),t}(u.a.PureComponent);q.defaultProps={},q.propTypes={search:f.a.string.isRequired,getCategoryL2:f.a.func.isRequired,categoryL2:f.a.shape({male:f.a.array.isRequired,female:f.a.array.isRequired,press:f.a.array.isRequired,getted:f.a.bool.isRequired}).isRequired,history:P.a.History.isRequired},t.a=q},function(e,t,n){var r=n(305),o=n(355),a=r(o);e.exports=a},function(e,t,n){function r(e){return function(t,n,r){var c=Object(t);if(!a(t)){var s=o(n,3);t=i(t),n=function(e){return s(c[e],e,c)}}var u=e(t,n,r);return u>-1?c[s?t[u]:u]:void 0}}var o=n(127),a=n(135),i=n(79);e.exports=r},function(e,t,n){function r(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}var o=n(307),a=n(346),i=n(137);e.exports=r},function(e,t,n){function r(e,t,n,r){var s=n.length,u=s,l=!r;if(null==e)return!u;for(e=Object(e);s--;){var f=n[s];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++s<u;){f=n[s];var p=f[0],h=e[p],v=f[1];if(l&&f[2]){if(void 0===h&&!(p in e))return!1}else{var y=new o;if(r)var d=r(h,v,p,e,t,y);if(!(void 0===d?a(v,h,i|c,r,y):d))return!1}}return!0}var o=n(128),a=n(78),i=1,c=2;e.exports=r},function(e,t,n){function r(){this.__data__=new o,this.size=0}var o=n(47);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!a||r.length<c-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(e,t),this.size=n.size,this}var o=n(47),a=n(76),i=n(75),c=200;e.exports=r},function(e,t,n){function r(e,t,n,r,d,b){var g=u(e),_=u(t),x=g?v:s(e),j=_?v:s(t);x=x==h?y:x,j=j==h?y:j;var w=x==y,E=j==y,O=x==j;if(O&&l(e)){if(!l(t))return!1;g=!0,w=!1}if(O&&!w)return b||(b=new o),g||f(e)?a(e,t,n,r,d,b):i(e,t,x,n,r,d,b);if(!(n&p)){var k=w&&m.call(e,"__wrapped__"),P=E&&m.call(t,"__wrapped__");if(k||P){var T=k?e.value():e,C=P?t.value():t;return b||(b=new o),d(T,C,n,r,b)}}return!!O&&(b||(b=new o),c(e,t,n,r,d,b))}var o=n(128),a=n(129),i=n(319),c=n(323),s=n(341),u=n(15),l=n(131),f=n(134),p=1,h="[object Arguments]",v="[object Array]",y="[object Object]",d=Object.prototype,m=d.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=n(75),a=n(315),i=n(316);r.prototype.add=r.prototype.push=a,r.prototype.has=i,e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function r(e,t,n,r,o,w,O){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!w(new a(e),new a(t)));case p:case h:case d:return i(+e,+t);case v:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case y:var k=s;case b:var P=r&l;if(k||(k=u),e.size!=t.size&&!P)return!1;var T=O.get(e);if(T)return T==t;r|=f,O.set(e,t);var C=c(k(e),k(t),r,o,w,O);return O.delete(e),C;case _:if(E)return E.call(e)==E.call(t)}return!1}var o=n(44),a=n(320),i=n(125),c=n(129),s=n(321),u=n(322),l=1,f=2,p="[object Boolean]",h="[object Date]",v="[object Error]",y="[object Map]",d="[object Number]",m="[object RegExp]",b="[object Set]",g="[object String]",_="[object Symbol]",x="[object ArrayBuffer]",j="[object DataView]",w=o?o.prototype:void 0,E=w?w.valueOf:void 0;e.exports=r},function(e,t,n){var r=n(14),o=r.Uint8Array;e.exports=o},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function r(e,t,n,r,i,s){var u=n&a,l=o(e),f=l.length;if(f!=o(t).length&&!u)return!1;for(var p=f;p--;){var h=l[p];if(!(u?h in t:c.call(t,h)))return!1}var v=s.get(e);if(v&&s.get(t))return v==t;var y=!0;s.set(e,t),s.set(t,e);for(var d=u;++p<f;){h=l[p];var m=e[h],b=t[h];if(r)var g=u?r(b,m,h,t,e,s):r(m,b,h,e,t,s);if(!(void 0===g?m===b||i(m,b,n,r,s):g)){y=!1;break}d||(d="constructor"==h)}if(y&&!d){var _=e.constructor,x=t.constructor;_!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(y=!1)}return s.delete(e),s.delete(t),y}var o=n(324),a=1,i=Object.prototype,c=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return o(e,i,a)}var o=n(325),a=n(327),i=n(79);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return a(e)?r:o(r,n(e))}var o=n(326),a=n(15);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},function(e,t,n){var r=n(328),o=n(329),a=Object.prototype,i=a.propertyIsEnumerable,c=Object.getOwnPropertySymbols,s=c?function(e){return null==e?[]:(e=Object(e),r(c(e),function(t){return i.call(e,t)}))}:o;e.exports=s},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}e.exports=n},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function r(e,t){var n=i(e),r=!n&&a(e),l=!n&&!r&&c(e),p=!n&&!r&&!l&&u(e),h=n||r||l||p,v=h?o(e.length,String):[],y=v.length;for(var d in e)!t&&!f.call(e,d)||h&&("length"==d||l&&("offset"==d||"parent"==d)||p&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||s(d,y))||v.push(d);return v}var o=n(331),a=n(130),i=n(15),c=n(131),s=n(133),u=n(134),l=Object.prototype,f=l.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){function r(e){return a(e)&&o(e)==i}var o=n(33),a=n(34),i="[object Arguments]";e.exports=r},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function r(e){return i(e)&&a(e.length)&&!!c[o(e)]}var o=n(33),a=n(80),i=n(34),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var r=n(122),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o,c=i&&r.process,s=function(){try{return c&&c.binding&&c.binding("util")}catch(e){}}();e.exports=s}).call(t,n(132)(e))},function(e,t,n){function r(e){if(!o(e))return a(e);var t=[];for(var n in Object(e))c.call(e,n)&&"constructor"!=n&&t.push(n);return t}var o=n(338),a=n(339),i=Object.prototype,c=i.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},function(e,t,n){var r=n(340),o=r(Object.keys,Object);e.exports=o},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(342),o=n(76),a=n(343),i=n(344),c=n(345),s=n(33),u=n(124),l=u(r),f=u(o),p=u(a),h=u(i),v=u(c),y=s;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=y(new o)||a&&"[object Promise]"!=y(a.resolve())||i&&"[object Set]"!=y(new i)||c&&"[object WeakMap]"!=y(new c))&&(y=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case v:return"[object WeakMap]"}return t}),e.exports=y},function(e,t,n){var r=n(23),o=n(14),a=r(o,"DataView");e.exports=a},function(e,t,n){var r=n(23),o=n(14),a=r(o,"Promise");e.exports=a},function(e,t,n){var r=n(23),o=n(14),a=r(o,"Set");e.exports=a},function(e,t,n){var r=n(23),o=n(14),a=r(o,"WeakMap");e.exports=a},function(e,t,n){function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o(i)]}return t}var o=n(136),a=n(79);e.exports=r},function(e,t,n){function r(e,t){return c(e)&&s(t)?u(l(e),t):function(n){var r=a(n,e);return void 0===r&&r===t?i(n,e):o(t,r,f|p)}}var o=n(78),a=n(32),i=n(348),c=n(74),s=n(136),u=n(137),l=n(50),f=1,p=2;e.exports=r},function(e,t,n){function r(e,t){return null!=e&&a(e,t,o)}var o=n(349),a=n(350);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e,t,n){t=o(t,e);for(var r=-1,l=t.length,f=!1;++r<l;){var p=u(t[r]);if(!(f=null!=e&&n(e,p)))break;e=e[p]}return f||++r!=l?f:!!(l=null==e?0:e.length)&&s(l)&&c(p,l)&&(i(e)||a(e))}var o=n(121),a=n(130),i=n(15),c=n(133),s=n(80),u=n(50);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return i(e)?o(c(e)):a(e)}var o=n(353),a=n(354),i=n(74),c=n(50);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return o(t,e)}}var o=n(120);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var s=null==n?0:i(n);return s<0&&(s=c(r+s,0)),o(e,a(t,3),s)}var o=n(356),a=n(127),i=n(357),c=Math.max;e.exports=r},function(e,t){function n(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}e.exports=n},function(e,t,n){function r(e){var t=o(e),n=t%1;return t===t?n?t-n:t:0}var o=n(358);e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if((e=o(e))===a||e===-a){return(e<0?-1:1)*i}return e===e?e:0}var o=n(359),a=1/0,i=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(a(e))return i;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=u.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):s.test(e)?i:+e}var o=n(46),a=n(43),i=NaN,c=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){function r(e,t){return o(e,t)}var o=n(78);e.exports=r},function(e,t){e.exports={body:"index__body-20Yu4",booklist:"index__booklist-3pmTn",goBackIcon:"index__goBackIcon-Kvolj"}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.filters,n=e.active,o=e.onSelect;return i.a.createElement("div",{className:p.a.container},t.map(function(e){var t=e.key,a=e.name;return i.a.createElement(h.a,{key:t,onTap:function(){return o(t)}},i.a.createElement("span",{key:t,className:l.a(p.a.item,r({},p.a.active,n===t))},a))}))}var a=n(1),i=n.n(a),c=n(2),s=n.n(c),u=n(31),l=n.n(u),f=n(363),p=n.n(f),h=n(24);o.defaultProps={},o.propTypes={filters:s.a.arrayOf(s.a.shape({key:s.a.string.isRequired,name:s.a.string.isRequired})).isRequired,active:s.a.string.isRequired,onSelect:s.a.func.isRequired},t.a=o},function(e,t){e.exports={container:"Filter__container-2TiBT",item:"Filter__item-3ymLi",active:"Filter__active-2dV7A"}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(1),s=n.n(c),u=n(2),l=n.n(u),f=n(365),p=n.n(f),h=n(366),v=n(81),y=n(35),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),m(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.list,o=e.hide,a=e.loading,i=e.push,c=e.requestLoading,u=e.onScrollBottom,l=e.getting;return s.a.createElement(y.a,{hide:o,loading:a,requestLoading:function(){return c(t)},onScrollBottom:function(){return u(t)}},n.map(function(e){var t=e._id,n=r(e,["_id"]);return s.a.createElement(h.a,d({key:t,id:t},n,{push:i}))}),l?s.a.createElement("div",{className:p.a.loading},"加载中..."):null)}}]),t}(s.a.PureComponent);b.defaultProps={},b.propTypes={id:l.a.string.isRequired,hide:l.a.bool.isRequired,loading:l.a.bool.isRequired,getting:l.a.bool.isRequired,requestLoading:l.a.func.isRequired,onScrollBottom:l.a.func.isRequired,list:l.a.arrayOf(v.a.Book).isRequired,push:l.a.func.isRequired},t.a=b},function(e,t){e.exports={loading:"BookList__loading-1ima0"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return e<1e4?e:(e/1e4).toFixed(1)+"万"}var c=n(1),s=n.n(c),u=n(2),l=n.n(u),f=n(367),p=n.n(f),h=n(138),v=n(24),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.cover,n=e.title,r=e.author,o=e.majorCate,a=e.shortIntro,c=e.latelyFollower,u=e.retentionRatio,l=e.push,f=e.id;return s.a.createElement(v.a,{onTap:function(){return l("/book/"+f)}},s.a.createElement("div",{className:p.a.container},s.a.createElement("img",{className:p.a.img,src:h.a(t),alt:"书籍封面"}),s.a.createElement("div",{className:p.a.bookInfo},s.a.createElement("div",{className:p.a.title},n),s.a.createElement("div",{className:p.a.author},r,s.a.createElement("span",{className:p.a.split},"|"),o),s.a.createElement("div",{className:p.a.shortIntro},a),s.a.createElement("div",{className:p.a.statistics},s.a.createElement("span",{className:p.a.data},i(c)),"人气",s.a.createElement("span",{className:p.a.split},"|"),s.a.createElement("span",{className:p.a.data},u+"%"),"读者存留"))))}}]),t}(s.a.PureComponent);d.defaultProps={cover:"",majorCate:"",shortIntro:"",latelyFollower:0,retentionRatio:0},d.propTypes={id:l.a.string.isRequired,push:l.a.func.isRequired,cover:l.a.string,title:l.a.string.isRequired,author:l.a.string.isRequired,majorCate:l.a.string,shortIntro:l.a.string,latelyFollower:l.a.number,retentionRatio:l.a.number},t.a=d},function(e,t){e.exports={container:"BookItem__container-3nEt1",img:"BookItem__img-1Bxze",bookInfo:"BookItem__bookInfo-2t01i",title:"BookItem__title-2UiPg",author:"BookItem__author-2NPiC",shortIntro:"BookItem__shortIntro-ssSTj",split:"BookItem__split-1K4HU",statistics:"BookItem__statistics-285wj",data:"BookItem__data-3afu9"}},function(e,t,n){e.exports=n.p+"61a23c1d1415d2231fd82cfbd5807f7b.svg"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(2),u=n.n(s),l=n(370),f=n.n(l),p=n(51),h=n(52),v=n(77),y=n(35),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={},i=n,o(a,i)}return a(t,e),d(t,[{key:"render",value:function(){var e=this.props.replace;return c.a.createElement("div",{className:f.a.route},c.a.createElement(p.a,{title:"排行榜"}),c.a.createElement(h.a,null,c.a.createElement(y.a,null,"1")),c.a.createElement(v.a,{active:"ranking",replace:e}))}}]),t}(c.a.PureComponent);m.defaultProps={},m.propTypes={replace:u.a.func.isRequired},t.a=m},function(e,t){e.exports={route:"index__route-2wdHu"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(2),u=n.n(s),l=n(32),f=n.n(l),p=n(372),h=n.n(p),v=n(24),y=n(82),d=n(373),m=n(35),b=n(138),g=n(374),_=n(81),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=["#F44336","#3F51B5","#009688","#FFEB3B","#795548"],E=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={book:{},loading:!1},a.getBook=function(e){var t="http://api.zhuishushenqi.com/book/"+e;return fetch("https://api.caoyongzheng.com/proxy?url="+t,{mode:"cors"}).then(function(e){return e.json()}).then(function(e){a.setState({book:x({},a.state.book,e)})}).catch(y.a)},a.handleRead=function(){var e=a.props,t=e.history,n=e.id;t.push("/reader/"+n)},i=n,o(a,i)}return a(t,e),j(t,[{key:"componentWillMount",value:function(){this.getBook(this.props.id)}},{key:"render",value:function(){var e=this.state.book,t=f.a(e,["tags"],[]);return c.a.createElement("div",{className:h.a.container},c.a.createElement(m.a,null,c.a.createElement("div",{className:h.a.book},c.a.createElement(e.cover?"img":"span",{alt:"封面",className:h.a.cover,src:b.a(e.cover)}),c.a.createElement("div",{className:h.a.right,style:{margin:"10px 14px 10px 0px"}},c.a.createElement("div",{className:h.a.title},f.a(e,["title"],"")),c.a.createElement("div",{className:h.a.author},f.a(e,["author"],"")),c.a.createElement("div",{className:h.a.info},d.a(f.a(e,["updated"])),"前更新",c.a.createElement("span",{className:h.a.split},"|"),g.a(f.a(e,["wordCount"])),c.a.createElement("span",{className:h.a.split},"|"),f.a(e,["cat"])))),c.a.createElement("div",{className:h.a.action},c.a.createElement("div",{className:h.a.item},c.a.createElement("div",{className:"btn-primary"},"追更新")),c.a.createElement(v.a,{onTap:this.handleRead},c.a.createElement("div",{className:h.a.item},c.a.createElement("div",{className:"btn-primary"},"开始阅读")))),c.a.createElement("div",{className:h.a.statistics},c.a.createElement("div",{className:h.a.flex},c.a.createElement("div",{className:h.a.name},"追书人气"),c.a.createElement("div",{className:h.a.value},f.a(e,["latelyFollower"],0))),c.a.createElement("div",{className:h.a.flex},c.a.createElement("div",{className:h.a.name},"读者存留率"),c.a.createElement("div",{className:h.a.value},f.a(e,["retentionRatio"],"0.0"),"%")),c.a.createElement("div",{className:h.a.flex},c.a.createElement("div",{className:h.a.name},"日更新字数"),c.a.createElement("div",{className:h.a.value},f.a(e,["serializeWordCount"],0)))),t.length>0?c.a.createElement("div",{className:h.a.tags},t.map(function(e,t){return c.a.createElement("span",{key:e,style:{backgroundColor:w[t%w.length]},className:h.a.tag},e)})):null,c.a.createElement("pre",{className:h.a.longIntro},f.a(e,["longIntro"],""))))}}]),t}(c.a.PureComponent);E.defaultProps={},E.propTypes={id:u.a.string.isRequired,history:_.a.History.isRequired},t.a=E},function(e,t){e.exports={book:"index__book-3syH7",cover:"index__cover-ECdTC",right:"index__right-28CZQ",title:"index__title-VoDLa",author:"index__author-oYo-L",info:"index__info-X_Cjx",split:"index__split-3N885",action:"index__action-3sj22",item:"index__item-1ZcAV",statistics:"index__statistics-PUQYQ",flex:"index__flex-4vy3a",name:"index__name-3MOEr",value:"index__value-1sNss",tags:"index__tags-ALhyQ",tag:"index__tag-3zY0d",longIntro:"index__longIntro-3L6ZY"}},function(e,t,n){"use strict";t.a=function(e){if(!e)return null;var t=new Date(e).getTime(),n=Date.now(),r=((n-t)/1e3).toFixed();return r<60?r+"秒":(r=(r/60).toFixed())<60?r+"分":(r=(r/60).toFixed())<24?r+"小时":(r=(r/24).toFixed())<30?r+"天":(r=(r/30).toFixed())<12?r+"月":(r=(r/12).toFixed(),r<10?r+"年":"很久以前")}},function(e,t,n){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<1e4?e+"字":Math.floor(e/1e4)+"万字"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(2),u=n.n(s),l=n(32),f=n.n(l),p=n(376),h=n.n(p),v=n(82),y=n(377),d=n(379),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={chapters:[],showList:!1,chapter:{title:"",content:""},sources:[]},a.getSources=function(){var e=a.props.id,t="http://api.zhuishushenqi.com/btoc?view=summary&book="+e;return fetch("https://api.caoyongzheng.com/proxy?url="+encodeURIComponent(t),{mode:"cors"}).then(function(e){return e.json()}).then(function(e){return a.setState({sources:e}),e}).catch(v.a)},a.getChapterList=function(e){var t="http://api.zhuishushenqi.com/btoc/"+e+"?view=chapters";return fetch("https://api.caoyongzheng.com/proxy?url="+encodeURIComponent(t),{mode:"cors"}).then(function(e){return e.json()}).then(function(e){var t=e.chapters;return a.setState({chapters:t}),t}).catch(v.a)},a.getChapter=function(e){console.log(e);var t="https://chapterup.zhuishushenqi.com/chapter/"+e;return fetch("https://api.caoyongzheng.com/proxy?url="+encodeURIComponent(t),{mode:"cors"}).then(function(e){return e.json()}).then(function(e){var t=e.chapter,n=t.title,r=t.cpContent;e.ok?a.setState({chapter:{title:n,content:r}}):v.a("not ok")}).catch(v.a)},i=n,o(a,i)}return a(t,e),m(t,[{key:"componentWillMount",value:function(){var e=this;this.getSources().then(function(){return e.getChapterList(f.a(e.state.sources,["0","_id"]))}).then(function(t){var n=f.a(t,["0","link"]);console.log(n),n&&e.getChapter(n)})}},{key:"render",value:function(){var e=this.state,t=e.chapters,n=e.showList,r=e.chapter;return c.a.createElement("div",{className:h.a.container},n?c.a.createElement(y.a,{chapters:t}):null,c.a.createElement(d.a,{chapter:r}))}}]),t}(c.a.PureComponent);b.defaultProps={},b.propTypes={id:u.a.string.isRequired},t.a=b},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(2),u=n.n(s),l=n(378),f=n.n(l),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={},i=n,o(a,i)}return a(t,e),p(t,[{key:"render",value:function(){var e=this.props.chapters;return c.a.createElement("div",{className:f.a.container},e.map(function(e){var t=e.title,n=e.link;return c.a.createElement("div",{key:n},t)}))}}]),t}(c.a.PureComponent);h.defaultProps={chapters:[]},h.propTypes={chapters:u.a.arrayOf(u.a.shape({title:u.a.string.isRequired,link:u.a.string.isRequired}))},t.a=h},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(1),c=n.n(i),s=n(2),u=n.n(s),l=n(380),f=n.n(l),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(){var e,n,a,i;r(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={},i=n,o(a,i)}return a(t,e),p(t,[{key:"render",value:function(){var e=this.props.chapter,t=e.title,n=e.content;return c.a.createElement("div",{className:f.a.container},t,c.a.createElement("pre",null,n))}}]),t}(c.a.PureComponent);h.defaultProps={chapter:{title:"",content:""}},h.propTypes={chapter:u.a.shape({title:u.a.string,content:u.a.string})},t.a=h},function(e,t){}],[258]);
//# sourceMappingURL=app-d1c67c51.js.map